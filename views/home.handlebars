<div class="container my-4">
  <h1 class="mb-4">Productos</h1>
  <div class="row row-cols-1 row-cols-md-3 g-4">
    {{#each products}}
      <div class="col">
        <div class="card h-100 shadow-sm">
          {{#if this.thumbnails}}
            {{#each this.thumbnails}}
              {{#if @first}}
                <img src="/{{this}}" alt="{{../title}}" class="card-img-top"
                     onerror="this.onerror=null;this.src='/img/no-image.jpeg';"/>
              {{/if}}
            {{/each}}
          {{else}}
            <img src="/img/no-image.jpeg" alt="Sin imagen" class="card-img-top"/>
          {{/if}}
          <div class="card-body">
            <h5 class="card-title">{{this.title}}</h5>
            <p class="card-text">{{this.description}}</p>
            <ul class="list-group list-group-flush mb-2">
              <li class="list-group-item"><b>Precio:</b> ${{this.price}}</li>
              <li class="list-group-item"><b>Código:</b> {{this.code}}</li>
              <li class="list-group-item"><b>Stock:</b> {{this.stock}}</li>
              <li class="list-group-item"><b>Categoría:</b> {{this.category}}</li>
              <li class="list-group-item"><b>Status:</b> {{this.status}}</li>
            </ul>
          </div>
        </div>
      </div>
    {{/each}}
  </div>
</div>

<div class="container my-5">
  <div class="card shadow">
    <div class="card-body">
      <h2 class="card-title mb-3">Agregar producto</h2>
      <form action="/api/products" method="POST" enctype="multipart/form-data" class="row g-3">
        <div class="col-md-6">
          <input type="text" name="title" class="form-control" placeholder="Título" required />
        </div>
        <div class="col-md-6">
          <input type="text" name="description" class="form-control" placeholder="Descripción" required />
        </div>
        <div class="col-md-4">
          <input type="number" name="price" class="form-control" placeholder="Precio" required />
        </div>
        <div class="col-md-4">
          <input type="text" name="code" class="form-control" placeholder="Código" required />
        </div>
        <div class="col-md-4">
          <input type="number" name="stock" class="form-control" placeholder="Stock" required />
        </div>
        <div class="col-md-6">
          <input type="text" name="category" class="form-control" placeholder="Categoría" required />
        </div>
        <div class="col-md-6">
          <input type="file" name="thumbnail" class="form-control" accept="image/*" />
        </div>
        <div class="col-12">
          <button type="submit" class="btn btn-primary w-100">Agregar</button>
        </div>
      </form>
    </div>
  </div>
</div>